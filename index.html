<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3B Evreni - 3D Baskƒ± Araba Modelleri, Fig√ºrler ve Dekor √úr√ºnleri</title>
<meta name="description" content="3B Evreni - √ñzel tasarƒ±m 3D baskƒ± araba modelleri, koleksiyon fig√ºrleri ve ev dekor √ºr√ºnleri. Ki≈üiye √∂zel y√ºksek kaliteli 3D baskƒ± √ß√∂z√ºmleri.">
<meta name="robots" content="index, follow">
<link rel="icon" href="https://cdn.shopier.app/logo_468/3bevreni_0acf1ed21753a6db010cf388af3ead50.jpg" type="image/jpeg">

<!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://3bevreni.vercel.app/">
<meta property="og:title" content="3B Evreni - √ñzel 3D Baskƒ± √úr√ºnleri">
<meta property="og:description" content="Araba modelleri, fig√ºrler ve ev dekorlarƒ± i√ßin kaliteli 3D baskƒ± √ß√∂z√ºmleri.">
<meta property="og:image" content="https://cdn.shopier.app/logo_468/3bevreni_0acf1ed21753a6db010cf388af3ead50.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://3bevreni.vercel.app/">
<meta property="twitter:title" content="3B Evreni - √ñzel 3D Baskƒ± √úr√ºnleri">
<meta property="twitter:description" content="Araba modelleri, fig√ºrler ve ev dekorlarƒ± i√ßin kaliteli 3D baskƒ± √ß√∂z√ºmleri.">
<meta property="twitter:image" content="https://cdn.shopier.app/logo_468/3bevreni_0acf1ed21753a6db010cf388af3ead50.jpg">

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CW05QPYXS3"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CW05QPYXS3');
</script>

<!-- Critical CSS -->
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f4f9; color:#333;}
h1,h2,h3 { margin:0; }
a { text-decoration:none; }
button { cursor:pointer; }
header { text-align:center; padding:80px 20px; background:#222; color:#fff;}
header h1 { font-size:2.5em; margin-bottom:10px;}
header p { font-size:1.2em; }
section { padding:40px 20px; max-width:1200px; margin:0 auto;}
.container { display:flex; flex-wrap:wrap; justify-content:space-around; }
.product-card { background:#fff; border-radius:10px; width:300px; margin:10px; padding:15px; box-shadow:0 2px 10px rgba(0,0,0,0.1); transition:transform 0.3s; display:flex; flex-direction:column;}
.product-card:hover { transform:scale(1.05); }
.product-image img { width:100%; height:auto; border-radius:6px; }
.product-name { font-weight:bold; margin:10px 0; text-align:center;}
.product-price { color:#e74c3c; margin:5px 0;}
.product-description { font-size:0.9em; flex-grow:1; }
.product-link, .buy-button, .share-button { background:#3498db; color:#fff; padding:8px 12px; border-radius:5px; text-align:center; margin-top:10px; }
.buy-button { background:#ff6600; }
.share-button { background:#007bff; }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; overflow:auto; padding-top:50px;}
.modal-content { background:#fff; margin:20px auto; padding:20px; border-radius:10px; width:90%; max-width:600px; max-height:80vh; overflow-y:auto;}
.close { position:absolute; top:10px; right:15px; font-size:24px; cursor:pointer; }
@media(max-width:768px){ .container{ flex-direction:column; align-items:center;} .product-card{width:90%;} header h1{font-size:2em;} }
</style>
</head>
<body>

<!-- Hero Section -->
<header>
<h1>3B Evreni üöÄ</h1>
<p>‚ÄúHayal et ‚Üí Tasarla ‚Üí √úret!‚Äù - 3D baskƒ± d√ºnyasƒ±ndan tasarƒ±mlar ve projeler</p>
</header>

<!-- √úr√ºnler / Galeri -->
<section id="products">
<h2 style="text-align:center; margin-bottom:20px;">√úr√ºnlerimiz</h2>
<div class="filters" style="text-align:center; margin-bottom:20px;">
<input type="text" id="searchInput" placeholder="√úr√ºn ara...">
<select id="categoryFilter"><option value="">T√ºm Kategoriler</option></select>
<select id="sortOptions">
<option value="default" selected>Varsayƒ±lan</option>
<option value="newest">Yeni Eklenen</option>
<option value="priceLowHigh">Fiyat: Artan</option>
<option value="priceHighLow">Fiyat: Azalan</option>
</select>
</div>
<div class="container" id="productContainer"></div>
</section>

<!-- Modal √úr√ºn Detay -->
<div id="productModal" class="modal" aria-hidden="true">
<div class="modal-content">
<span class="close" aria-label="Kapat">&times;</span>
<div id="modalProductDetail">Y√ºkleniyor...</div>
</div>
</div>

<!-- Footer -->
<footer style="background:#333;color:#fff;text-align:center;padding:15px 0;">
¬© 2022 - <span id="currentYear"></span> <a href="https://tuncyyldrm.vercel.app" style="color:#ffcc00;">Tuncay YILDIRIM</a>
</footer>

<!-- Script: API + √úr√ºn Kartlarƒ± + Modal + Filtreleme -->
<script>
// --- API ve √ºr√ºn y√∂netimi (senin koddan entegre) ---
const apiKey = 'AIzaSyCQ_SmNuv0JxBBtaiSi7LGxPmeqOPygjYc';
const spreadsheetId = '1RaU1SPiCDU9AkAUoQbn2pEn_K9S4TZJXeli8ZTJsHek';
const range = 'Stok!A2:H';
const sheetUrl = `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${range}?key=${apiKey}`;
let products = [], filteredProducts = [], currentPage=1, productsPerPage=12, isLoading=false, currentProduct=null;

// --- Utility Fonksiyonlarƒ± ---
function slugify(text){return text.toString().toLowerCase().replace(/[√ßƒüƒ±√∂≈ü√º]/g,c=>({'√ß':'c','ƒü':'g','ƒ±':'i','√∂':'o','≈ü':'s','√º':'u'})[c]).replace(/[^a-z0-9\s-]/g,'').replace(/\s+/g,'-').replace(/--+/g,'-').trim();}

// --- Fetch √úr√ºnler ---
async function fetchProducts(){
try{
const resp = await fetch(sheetUrl);
const data = await resp.json();
products = data.values.map(row=>({id:row[0], categoryCode:row[1], name:row[2], description:row[3], buyLink:row[4], addedDate:row[5], price:parseFloat(row[6]?.replace(',','.')||0), imageUrl:row[7]||'', slug:slugify(row[2])}));
filteredProducts = [...products];
renderCategoryOptions(); renderProducts();
}catch(e){console.error(e);}
}

// --- Render Category Options ---
function renderCategoryOptions(){
const catFilter = document.getElementById('categoryFilter');
const cats = [...new Set(products.map(p=>p.categoryCode))];
cats.forEach(c=>{ const o=document.createElement('option'); o.value=c; o.textContent=c; catFilter.appendChild(o);});
}

// --- Render Products ---
function renderProductCard(p){
const card=document.createElement('div'); card.className='product-card';
card.innerHTML=`<div class="product-image"><img loading="lazy" src="${p.imageUrl}" alt="${p.name}"></div>
<h3 class="product-name">${p.name}</h3>
<p class="product-price">${p.price.toLocaleString()}‚Ç∫</p>
<p class="product-description">${p.description.substring(0,80)}...</p>
<div style="display:flex;justify-content:space-around;">
<button class="buy-button" onclick="window.open('${p.buyLink}','_blank')">Satƒ±n Al</button>
<button class="share-button" onclick="shareProduct('${p.name}','${p.buyLink}')">Payla≈ü</button>
</div>`;
card.onclick=()=>openModal(p.id);
return card;
}

function renderProducts(){
const container=document.getElementById('productContainer');
container.innerHTML='';
filteredProducts.forEach(p=>container.appendChild(renderProductCard(p)));
}

// --- Modal ---
const modal=document.getElementById('productModal');
const modalDetail=document.getElementById('modalProductDetail');
document.querySelector('.close').onclick=()=>modal.style.display='none';
function openModal(id){
currentProduct = products.find(p=>p.id===id);
modalDetail.innerHTML=`<h2>${currentProduct.name}</h2>
<img style="width:100%;border-radius:8px;" src="${currentProduct.imageUrl}" alt="${currentProduct.name}">
<p>${currentProduct.description}</p>
<p>Fiyat: ${currentProduct.price.toLocaleString()}‚Ç∫</p>
<button class="buy-button" onclick="window.open('${currentProduct.buyLink}','_blank')">Satƒ±n Al</button>`;
modal.style.display='block';
}

// --- Filtreleme ve Arama ---
document.getElementById('searchInput').oninput=applyFilters;
document.getElementById('categoryFilter').onchange=applyFilters;
document.getElementById('sortOptions').onchange=applyFilters;
function applyFilters(){
const search=document.getElementById('searchInput').value.toLowerCase();
const category=document.getElementById('categoryFilter').value;
const sortOpt=document.getElementById('sortOptions').value;
filteredProducts = products.filter(p=>p.name.toLowerCase().includes(search)&&(category===''||p.categoryCode===category));
if(sortOpt==='newest') filteredProducts.sort((a,b)=>new Date(b.addedDate)-new Date(a.addedDate));
else if(sortOpt==='priceLowHigh') filteredProducts.sort((a,b)=>a.price-b.price);
else if(sortOpt==='priceHighLow') filteredProducts.sort((a,b)=>b.price-a.price);
renderProducts();
}

// --- Share ---
function shareProduct(name,url){
if(navigator.share){ navigator.share({title:name,url:url}); }
else{ prompt('√úr√ºn√º payla≈üƒ±n: ', url); }
}

// --- Footer Yƒ±l G√ºncelle ---
document.getElementById('currentYear').textContent=new Date().getFullYear();

// --- Ba≈ülat ---
fetchProducts();
</script>

</body>
</html>
